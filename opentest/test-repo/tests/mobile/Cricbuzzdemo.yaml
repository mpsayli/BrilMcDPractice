description: Launching Cricbuzz app
actors:
  - actor: ACTOR1
    segments:
      - segment: 1
        actions:      
          - macro: LaunchMobApp

          - description: click on more option
            action: org.getopentest.appium.Tap
            args:
              locator: {  xpath: "//android.widget.FrameLayout[@resource-id='com.cricbuzz.android:id/tab_more']" }

          - script: $delay(3000); 

          - description: Find "Browse series" by swiping down and tap on it
            action: org.getopentest.appium.Tap
            args:
              locator: { xpath: "//android.widget.TextView[@resource-id='com.cricbuzz.android:id/txt_more']"}
              swipe: down

          - script: $delay(3000); 
              
          - description: Go back
            action: org.getopentest.appium.NavigateBack

          # - description: Read the position and size of the red box
          #   action: org.getopentest.appium.ReadElementAspect
          #   args:
          #     locator: { id: red }

          - description: Find "Quotes" by swiping down and tap on it
            action: org.getopentest.appium.Tap
            args:
              locator: { xpath: "//android.widget.LinearLayout[@index='13']" }
              swipe: down
              

          - script: $delay(3000)

          - description: Take a screenshot
            action: org.getopentest.appium.TakeScreenshot

          - description: Go back
            action: org.getopentest.appium.NavigateBack

          - description: click on ICC Rankings-Men
            action: org.getopentest.appium.Tap
            args:
              locator: {  xpath: "//android.widget.LinearLayout[@index='15']" }

          - script: $delay(3000)
          
          # - description: Verify that the "product" textbox contains "ICC Men's Rankings"
          #   action: org.getopentest.appium.AssertElementText
          #   args:
          #     locator: { xpath: "//android.view.ViewGroup[@resource-id='com.cricbuzz.android:id/toolbar']" }
          #     textContains: ICC Men's Rankings

          - description: click on Bowler button
            action: org.getopentest.appium.Tap
            args:
              locator: {  xpath: "//android.widget.LinearLayout[@content-desc='Bowler']" }

          - script: $delay(3000)

          - description: Go back
            action: org.getopentest.appium.NavigateBack

          - description: Read the text content of ICC Rankings - Men
            action: org.getopentest.appium.ReadElementText
            args:
              locator: { xpath: "//android.widget.LinearLayout[@index='15']"}
              $localData:
                  productName: ICC Rankings - Men

          - description: Take a screenshot
            action: org.getopentest.appium.TakeScreenshot

          - description: Read the screen size
            action: org.getopentest.appium.ReadScreenSize
            args:
              $localData:
                  screenWidth: $output.screenWidth
                  screenHeight: $output.screenHeight

          - script: $delay(3000)